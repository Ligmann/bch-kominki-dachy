{"version":3,"sources":["../javascript/vendor/animation.js"],"names":["Math","floor","hideAllElements","buildings","forEach","hideBuilding","buildingWindows","hideWindows","hideBackground","initBuildings","buildingsNames","shuffle","findBuildings","building","index","object","scene","find","name","populateBuildings","push","$","populateWindows","windowsGroup","windows","toArray","reverse","TweenLite","set","scaleY","transformOrigin","hideWindow","buildingWindow","scaleX","background","showBuildings","to","getRandomAnimationTime","delay","timeBeteweenBuldings","onComplete","windowsAnimation","ease","Back","easeOut","config","windowsIndex","windowGroup","animateWindow","windowAnimationTime","nextWindowAnimation","nextWindow","getNextWindow","currentIndex","length","showBackground","timeBeforeBackgorund","min","max","random","array","j","x","shuffledArray","i","element","document","ready","window","load","css"],"mappings":"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","sourcesContent":["(function () {\r\n\r\n\tvar element = $('.Buildings');\r\n\r\n\tvar scene = $('#Page-1');\r\n\tvar background = $('#background');\r\n\r\n\tvar buildings = [];\r\n\tvar buildingWindows = [];\r\n\r\n\tvar windowAnimationTime = 0.170;\r\n\r\n\tvar timeBeteweenBuldings = 0.175;\r\n\tvar timeBeforeBackgorund = 1.5;\r\n\tvar backgroundAnimationTime = 1;\r\n\r\n\tvar buildingAnimationMaxTime = 400;\r\n\tvar buildingAnimationMinTime = 300;\r\n\r\n\tvar buildingsNames = [{\r\n\t\tname: '#building1',\r\n\t\twindows: '#windows1'\r\n\t}, {\r\n\t\tname: '#building2',\r\n\t\twindows: '#windows2'\r\n\t}, {\r\n\t\tname: '#building3',\r\n\t\twindows: '#windows3'\r\n\t}, {\r\n\t\tname: '#building4',\r\n\t\twindows: '#windows4'\r\n\t}, {\r\n\t\tname: '#building5',\r\n\t\twindows: '#windows5'\r\n\t}, {\r\n\t\tname: '#building6',\r\n\t\twindows: '#windows6'\r\n\t}, {\r\n\t\tname: '#building7',\r\n\t\twindows: '#windows7'\r\n\t}];\r\n\r\n\t$(document).ready(init);\r\n\t$(window).load(startAnimation);\r\n\r\n\tfunction init() {\r\n\t\tinitBuildings();\r\n\t\thideAllElements();\r\n\t}\r\n\r\n\tfunction hideAllElements() {\r\n\t\tbuildings.forEach(hideBuilding);\r\n\t\tbuildingWindows.forEach(hideWindows);\r\n\t\thideBackground();\r\n\t}\r\n\r\n\tfunction initBuildings() {\r\n\t\tbuildingsNames = shuffle(buildingsNames);\r\n\t\tbuildingsNames.forEach(findBuildings);\r\n\t}\r\n\r\n\tfunction findBuildings(building, index) {\r\n\t\tvar object = scene.find(building.name);\r\n\t\tpopulateBuildings(object, index);\r\n\t}\r\n\r\n\tfunction populateBuildings(building, index) {\r\n\t\tbuildings.push($(building));\r\n\t\tpopulateWindows(building, index);\r\n\t}\r\n\r\n\tfunction populateWindows(building, index) {\r\n\t\tvar windowsGroup = building.find(buildingsNames[index].windows);\r\n\t\twindowsGroup = windowsGroup.find('g');\r\n\t\twindowsGroup = windowsGroup.toArray().reverse();\r\n\t\tbuildingWindows.push(windowsGroup);\r\n\t}\r\n\r\n\tfunction hideBuilding(building) {\r\n\t\tTweenLite.set(building, {\r\n\t\t\tscaleY: 0,\r\n\t\t\ttransformOrigin: '100% 100%'\r\n\t\t});\r\n\t}\r\n\r\n\tfunction hideWindows(windowsGroup) {\r\n\t\twindowsGroup.forEach(hideWindow);\r\n\t}\r\n\r\n\tfunction hideWindow(buildingWindow) {\r\n\t\tTweenLite.set($(buildingWindow), {\r\n\t\t\tscaleY: 0,\r\n\t\t\tscaleX: 0,\r\n\t\t\ttransformOrigin: '50% 50%'\r\n\t\t});\r\n\t}\r\n\r\n\tfunction hideBackground() {\r\n\t\tTweenLite.set(background, {\r\n\t\t\tscaleY: 0,\r\n\t\t\ttransformOrigin: '100% 100%'\r\n\t\t});\r\n\t}\r\n\r\n\tfunction startAnimation() {\r\n\t\telement.css('visibility', 'visible');\r\n\t\tbuildings.forEach(showBuildings);\r\n\t\tshowBackground();\r\n\t}\r\n\r\n\tfunction showBuildings(building, index) {\r\n\t\tTweenLite.to(\r\n\t\t\tbuilding,\r\n\t\t\tgetRandomAnimationTime(buildingAnimationMinTime, buildingAnimationMaxTime), {\r\n\t\t\t\tdelay: timeBeteweenBuldings + timeBeteweenBuldings * index,\r\n\t\t\t\tscaleY: 1,\r\n\t\t\t\tonComplete: windowsAnimation(index),\r\n\t\t\t\tease: Back.easeOut.config(1.7)\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction windowsAnimation(windowsIndex) {\r\n\t\tvar windowGroup = buildingWindows[windowsIndex];\r\n\t\treturn function showWindows() {\r\n\t\t\tanimateWindow(windowGroup[0], 0, windowGroup);\r\n\t\t};\r\n\t}\r\n\r\n\tfunction animateWindow(buildingWindow, index, windowGroup) {\r\n\t\tTweenLite.to(\r\n\t\t\t$(buildingWindow),\r\n\t\t\twindowAnimationTime, {\r\n\t\t\t\tscaleX: 1,\r\n\t\t\t\tscaleY: 1,\r\n\t\t\t\tonComplete: nextWindowAnimation(index, windowGroup),\r\n\t\t\t\tease: Back.easeOut.config(1.7)\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction nextWindowAnimation(index, windowGroup) {\r\n\t\tvar nextWindow = getNextWindow(index, windowGroup);\r\n\r\n\t\tif (!nextWindow) return;\r\n\r\n\t\treturn function () {\r\n\t\t\tanimateWindow(nextWindow, index + 1, windowGroup);\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getNextWindow(currentIndex, windowGroup) {\r\n\t\tif (currentIndex + 1 >= windowGroup.length) return;\r\n\r\n\t\treturn windowGroup[currentIndex + 1];\r\n\t}\r\n\r\n\tfunction showBackground() {\r\n\t\tTweenLite.to(\r\n\t\t\tbackground,\r\n\t\t\tbackgroundAnimationTime, {\r\n\t\t\t\tdelay: timeBeforeBackgorund,\r\n\t\t\t\tscaleY: 1,\r\n\t\t\t\tease: Back.easeOut.config(1.7)\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction getRandomAnimationTime(min, max) {\r\n\t\treturn (Math.floor(Math.random() * (max - min)) + min) / 1000;\r\n\t}\r\n\r\n\tfunction shuffle(array) {\r\n\t\tvar shuffledArray = array;\r\n\t\tfor (\r\n\t\t\tvar j, x, i = shuffledArray.length; i; j = Math.floor(Math.random() * i),\r\n\t\t\tx = shuffledArray[--i],\r\n\t\t\tshuffledArray[i] = shuffledArray[j],\r\n\t\t\tshuffledArray[j] = x\r\n\t\t);\r\n\t\treturn shuffledArray;\r\n\t}\r\n})();"],"file":"animation.js"}